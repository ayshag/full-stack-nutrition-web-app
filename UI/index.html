<!DOCTYPE html>
<html>
<head>
    <!--Required Meta Tags-->
    <meta charset="UTF-8">
    <meta content="width=device-width, initial-scale=1, shrink-to-fit=no" name="viewport">
    <meta content="Nutri-aid provides food recommendations based on nutrition. Enter your diet restrictions, nutri-aid will recommend foods for you. Nutri-aid analyzes nutrition data of 2000 products to fetch the right recommendations."
          name="description">
    <meta name="keywords" content="Nutri-Aid, nutrition recommendations, nutrition, food, diabetic, diet restrictions"/>
    <meta content="index, follow" name="robots"/>
    
    <!--Bootstrap CSS-->
    <link crossorigin="anonymous" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css"
          integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" rel="stylesheet">
    <link crossorigin="anonymous" href="https://use.fontawesome.com/releases/v5.4.1/css/all.css"
          integrity="sha384-5sAR7xN1Nv6T6+dT2mhtzEpVJvfS3NScPQTrOxhwjIuvcA67KV2R5Jz6kr4abQsz" rel="stylesheet">
    <link href="css/style.css" rel="stylesheet">
    <link href="https://cdn.datatables.net/1.10.20/css/jquery.dataTables.min.css" rel="stylesheet">
    <!--Javascripts: Jquery & BootstrapJS-->
    <!-- <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js"
             integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN"
             crossorigin="anonymous"></script>-->
    <script src="https://code.jquery.com/jquery-1.12.4.js"></script>
    <script crossorigin="anonymous"
            integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl"
            src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"></script>
    <script src="https://code.highcharts.com/highcharts.js"></script>
    <script src="https://code.highcharts.com/modules/wordcloud.js"></script>
    <script src="https://cdn.datatables.net/1.10.20/js/jquery.dataTables.min.js"></script>

    <title>Nutri-Aid :: Find the right foods for you</title>

    <style>
        .modal { overflow: auto !important; }
        .checked {
            color: orange;
        }
        
    </style>

    <script src="https://www.gstatic.com/charts/loader.js" type="text/javascript"></script>
    <script src="js/dashboard.js" type="text/javascript"></script>
    <!-- JSON-LD markup generated by Google Structured Data Markup Helper. -->
    <script type="application/ld+json">
        {
            "@context": "https://schema.org",
            "@type": "Organization",
            "url": "https://nutri-aid.000webhostapp.com/",
            "name": "Nutri-Aid",
            "logo": "https://nutri-aid.000webhostapp.com/images/logo.png",
            "description": "Nutri-Aid is a cost-effective platform for helping individuals with their daily dietary needs.."
        }
    </script>


</head>

<body>
<div id="google_translate_element" style="text-align: right"></div>

<script type="text/javascript">
    function googleTranslateElementInit() {
        new google.translate.TranslateElement({pageLanguage: 'en',includedLanguages: 'en,es,jv,ko,pt,ru,zh-CN', layout: google.translate.TranslateElement.InlineLayout.SIMPLE,autoDisplay: false}, 'google_translate_element');
    }
</script>

<script src="https://translate.google.com/translate_a/element.js?cb=googleTranslateElementInit"></script>

<div>

    <nav class="navbar navbar-light m-2" style="background-color: #138d75 ;">
        <a class="navbar-brand" href="#">
            <img alt="Nutri-aid food recommender" height="75" src="images/logo.png" width="75">
            <span class="navbar-brand mb-0 h1" style="color:white; font-weight: bold; font-size:20px">NutriAid</span>
        </a>
        <div class="nav nav-pills mb-0 float-left" id="nav-tab-left" role="tablist"
             style="font-weight: 600; color:white">
            <a aria-controls="nav-home" aria-selected="true" class="active nav-item text-white" data-toggle="tab"
               href="#home"
               id="nav-home-tab" role="tab">Home</a>
            <a aria-controls="nav-about" aria-selected="false" class="nav-item text-white" data-toggle="tab"
               href="#about"
               id="nav-about-tab" role="tab">About</a>
            <a aria-controls="nav-dashboard" aria-selected="false" class="nav-item text-white" data-toggle="tab"
               href="#dashboard"
               id="nav-dashboard-tab" role="tab">Dashboard</a>
             <a aria-controls="nav-initialsurvey" aria-selected="false" class="nav-item text-white" data-target="#initialsurveyModal" data-toggle="modal"
               id="nav-initialsurvey-tab"  role="modal" >Take Survey</a>
            <a aria-controls="nav-signup" aria-selected="false" class="nav-item text-white" data-target="#signupModal"
               data-toggle="modal"
               id="nav-signup-tab" role="modal">Sign Up</a>
            <a aria-controls="nav-signin" aria-selected="false" class="nav-item text-white" data-target="#signinModal"
               data-toggle="modal"
               id="nav-signin-tab" role="modal">Sign In</a>
            <a aria-controls="nav-signout" aria-selected="false" class="nav-item text-white"
               id="nav-signout-tab">Sign Out</a>
            <div class="search-container">
                <label for="searchInput"></label><input id="searchInput" name="search" placeholder="Search" type="text">


                <a  aria-controls="nav-search" aria-selected="false" class="nav-item text-white" data-toggle="tab" href="#search"
                   id="nav-report-tab" role="tab"><i class="fa fa-search" id="searchInputbutton" onclick="search()"></i></a>

            </div>
        </div>

        <!-- <div class="nav nav-pills mb-0 float-right" id="nav-tab" role="tablist";style="font-weight: 600;background-color: #138d75 ; color:white">
            <a class="nav-item text-white" id="nav-signup-tab" data-toggle="modal" data-target="#signupModal" role="modal"
              aria-controls="nav-signup"  aria-selected="false">Sign Up</a>
            <a class="nav-item text-white" id="nav-signin-tab" data-toggle="modal" data-target="#signinModal" role="modal"
              aria-controls="nav-signin"  aria-selected="false" >Sign In</a>
            <div class="search-container">
                <label for="searchInput"></label><input type="text" placeholder="Search" name="search" id="searchInput">
                <a class="nav-item text-white" id="nav-report-tab" data-toggle="tab" href="#search" role="tab"
               aria-controls="nav-search" aria-selected="false"><i class="fa fa-search" onclick="search()"></i></a>
            </div>    

        </div>-->
    </nav>

    <div class="carousel slide" data-ride="carousel" id="carouselExampleIndicators">
        <ol class="carousel-indicators">
            <li class="active" data-slide-to="0" data-target="#carouselExampleIndicators"></li>
            <li data-slide-to="1" data-target="#carouselExampleIndicators"></li>
            <li data-slide-to="2" data-target="#carouselExampleIndicators"></li>
        </ol>
        <div class="carousel-inner">
            <div class="carousel-item active">
                <img alt="fruit diet, raspberry, Nutri-Aid, nutrition recommendations" class="d-block w-100" src="images/raspberry.jpg">
            </div>
            <div class="carousel-item">
                <img alt="carbohydrate lover diet, Nutri-Aid, nutrition recommendations" class="d-block w-100" src="images/cereal.jpg">
            </div>
            <div class="carousel-item">
                <img alt="diabetic? no sugar?, Nutri-Aid, nutrition recommendations" class="d-block w-100" src="images/haribo.jpg">
            </div>
            <div class="carousel-item">
                <img alt="Fruit diet, healthy, Nutri-Aid, nutrition recommendations" class="d-block w-100" src="images/strawberry.jpg">
            </div>
        </div>
        <a class="carousel-control-prev" data-slide="prev" href="#carouselExampleIndicators" role="button">
            <span aria-hidden="true" class="carousel-control-prev-icon"></span>
            <span class="sr-only">Previous</span>
        </a>
        <a class="carousel-control-next" data-slide="next" href="#carouselExampleIndicators" role="button">
            <span aria-hidden="true" class="carousel-control-next-icon"></span>
            <span class="sr-only">Next</span>
        </a>
    </div>
    <div class="tab-content" id="myTabContent">
        <div aria-labelledby="home-tab" class="tab-pane active" id="home" role="tabpanel">

            <div style="background-color: white">
            <div>
                <h1 style="text-align: center; font-family:Futura,cursive; margin-left: 30px;color:darkcyan;">Home</h1>
            </div>
            <div class="row">
                <div class="col-sm">
                    <p style="font-family:Verdana, Geneva, Tahoma, sans-serif; color: #A10115;margin-left: 30px;">
                        <br>Welcome!! Nutri-Aid is a cost-effective platform for helping individuals with their daily dietary needs.
                        You can customize and choose what suits you best. Your personalized nutrition recommender is just few clicks away.
                    </p>
                </div>
                <div class="col-sm">
                    <img src="images/home.jpg" alt="about image, Nutri-Aid, nutrition recommendations" width="450" height="282">
                </div>
            </div>
            </div>
        </div>
        <div aria-labelledby="about-tab" class="tab-pane" id="about" role="tabpanel">
            <div style="background-color: white">
                    <div>
                        <h1 style="text-align: center; font-family:Futura,cursive; margin-left: 30px;color:darkcyan;">Why to Choose Nutri-Aid?</h1>
                    </div>
                <div class="row">
                    <div class="col-sm">
                        <p style="font-family:Verdana, Geneva, Tahoma, sans-serif; color: #A10115;margin-left: 30px">
                            We, at Nutri-Aid, care about you and your health. Each person is unique - so is their dietary requirements. Though
                            every product you buy has nutrition requirements in the backside of the box, it is not easy to read everything
                            and find the food suitable for you. When you register in our system, you will answer a few simple questions about your
                            dietary requirements. From those answers, we will recommend daily suggestions for you.
                        </p>
                    </div>
                    <div class="col-sm">
                        <img src="images/foodnutrition.jpg" alt="about image" width="535" height="282">
                    </div>
                </div>
                <div>
                    <h6 style="text-align: center;font-family:Futura,cursive; color: black; ">We aid you in your needs!!!</h6>
                </div>

            </div>
        </div>
        <div aria-labelledby="dashboard-tab" class="tab-pane" id="dashboard" role="tabpanel">
            <ul class="nav nav-tabs" id="myTab" role="tablist">
                <li class="nav-item">
                    <a aria-controls="rec" aria-selected="true" class="nav-link active" data-toggle="tab" href="#rec"
                       id="rec-tab" role="tab">
                        Recommended Products
                    </a>
                </li>
                <li class="nav-item">
                    <a aria-controls="profile" aria-selected="false" class="nav-link" data-toggle="tab" href="#profile"
                       id="profile-tab" role="tab">
                        Statistics
                    </a>
                </li>
                <li class="nav-item">
                    <a aria-controls="messages" aria-selected="false" class="nav-link" data-toggle="tab"
                       href="#messages" id="messages-tab" role="tab" onclick="displayFavorites()">
                        My Favorites
                    </a>
                </li>

            </ul>
            <div id="overlay">
                <div class="cv-spinner">
                    <span class="spinner"></span>
                </div>
            </div>
            <!-- Tab panes -->
            <div class="tab-content">

                <div aria-labelledby="rec-tab" class="tab-pane active" id="rec" role="tabpanel">
                    <div class="list-group" id="dashboard_recommend">
                        <!-- <a href="#" class="list-group-item list-group-item-action flex-column align-items-start active">
                             <div class="d-flex w-100 justify-content-between">
                                 <h5 class="mb-1">List group item heading</h5>
                                 <small>3 days ago</small>
                             </div>
                             <p class="mb-1">Donec id elit non mi porta gravida at eget metus. Maecenas sed diam eget risus varius blandit.</p>
                             <small>Donec id elit non mi porta.</small>
                         </a> -->

                    </div>

                </div>
                <div aria-labelledby="profile-tab" class="tab-pane" id="profile" role="tabpanel">
                    <div class="row" style="padding:10px;">
                        <div class="col-sm-6">
                            <div id="piechart" style="width: 600px; height: 300px;"></div>
                        </div>
                        <div class="col-sm-6">
                            <div id="wordcloud" style="width: 600px; height: 300px;"></div>
                        </div>
                    </div>
                    <div class="row"  style="padding:10px;">
                        <div class="col-sm-6">
                            <div id="caloriesbar" style="width: 500px; height: 300px;"></div>
                        </div>
                        <div class="col-sm-6">
                            <div id="othersbar" style="width: 500px; height: 300px;"></div>
                        </div>
                    </div>




                </div>
                <div aria-labelledby="messages-tab" class="tab-pane" id="messages" role="tabpanel">

                    <table id=favoriteTable class="table table-striped">
                        <thead>
                            <th>Name</th>
                            <th>Protein</th>
                            <th>Fat</th>
                            <th>Carbohydrates</th>
                            <th>Sugar</th>
                            <th>Remove</th>
                        </thead>
                    </table>

                </div>

            </div>

        </div>
        <div aria-labelledby="search-tab" class="tab-pane" id="search" role="tabpanel">
            <table id="searchResults" class="display">
                <thead>
                    <th>Name</th>
                    <th>Protein</th>
                    <th>Fat</th>
                    <th>Carbohydrates</th>
                    <th>Sugar</th>
                   <!-- <th>Favorites</th> -->

                </thead>

            </table>
        </div>
    </div>


    <!-- -->

    <div aria-hidden="true" aria-labelledby="signupModalCenterTitle" class="modal fade" id="signupModal" role="dialog"
         tabindex="-1">
        <div class="modal-dialog modal-dialog-centered" role="document" style="width:365px">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="signupModal" style="color:#138d75">Sign Up</h5>
                    <button aria-label="Close" class="close" data-dismiss="modal" type="button">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <form action="javascript:signup();">
                        <div><span style="font-family:Verdana, Geneva, Tahoma, sans-serif; color: #A10115;">Name </span><br>
                            <input id="nameInput" required size="35" style="margin-top:10px" type="text"> <br><br></div>

                        <div><span
                                style="font-family:Verdana, Geneva, Tahoma, sans-serif; color: #A10115;">Email </span><br>
                            <input id="emailInput" oninput="document.getElementById('alertMessage').innerHTML=''"
                                   required size="35" style="margin-top:10px" type="email"><br><br></div>

                        <div><span
                                style="font-family:Verdana, Geneva, Tahoma, sans-serif; color: #A10115;">Password </span><br>
                            <input id="passwordInput"
                                   onblur="document.getElementById('password_constraints').style.setProperty('display', 'none')"
                                   onfocus="document.getElementById('password_constraints').style.setProperty('display', 'block')"
                                   oninput="checkPassword()" required size="35" style="margin-top:10px" type="password"><br><br>
                        </div>

                        <div id="password_constraints"
                             style="margin-left:50px; border-radius: 10px; border: solid 2px; border-color: #138d75; background-color: white; padding:10px; position: absolute; width: 335px; display:none">

                            <p>Strength:
                                <progress id="security-value" max="6" value="0"></progress>
                                <span id="security-message"></span> <br>
                                <span style="font-family:Verdana, Geneva, Tahoma, sans-serif; color: #138d75; font-size: small;">Must Be Atleast 8 Characters<span
                                        id="lengthConstraint"
                                        style="font-family:Verdana, Geneva, Tahoma, sans-serif; color: #138d75; font-size: small;"></span></span><br>
                                <span style="font-family:Verdana, Geneva, Tahoma, sans-serif; color: #138d75; font-size: small;">Must Contain 1 Uppercase Letter <span
                                        id="uppercaseConstraint"
                                        style="font-family:Verdana, Geneva, Tahoma, sans-serif; color: #138d75; font-size: small;"></span></span>
                                <br>
                                <span style="font-family:Verdana, Geneva, Tahoma, sans-serif; color: #138d75; font-size: small;">Must Contain 1 Lowercase Letter <span
                                        id="lowercaseConstraint"
                                        style="font-family:Verdana, Geneva, Tahoma, sans-serif; color: #138d75; font-size: small;"></span></span><br>
                                <span style="font-family:Verdana, Geneva, Tahoma, sans-serif; color: #138d75; font-size: small;">Must Contain 1 Number <span
                                        id="numberConstraint"
                                        style="font-family:Verdana, Geneva, Tahoma, sans-serif; color: #138d75; font-size: small;"></span></span><br>
                                <span style="font-family:Verdana, Geneva, Tahoma, sans-serif; color: #138d75; font-size: small;">Must Only Use A-z, 0-9, @, -, _, and .  <span
                                        id="characterConstraint"
                                        style="font-family:Verdana, Geneva, Tahoma, sans-serif; color: #138d75; font-size: small;"></span></span><br>
                                <span style="font-family:Verdana, Geneva, Tahoma, sans-serif; color: #138d75; font-size: small;">Must Not Be Same As Email<span
                                        id="emailConstraint"
                                        style="font-family:Verdana, Geneva, Tahoma, sans-serif; color: #138d75; font-size: small;"></span></span><br>
                            </p>
                        </div>

                        <span style="font-family:Verdana, Geneva, Tahoma, sans-serif; color: #A10115;">Confirm Password </span><br>
                        <input id="confirmPasswordInput" oninput="confirmPassword()" required size="35"
                               style="margin-top:10px" type="password"> <br><br>
                        <p id="matchPassword"></p>
                        <span style="font-family:Verdana, Geneva, Tahoma, sans-serif; color: #A10115;">Security Question 1</span><br>
                        
                        <select id="q1" style="width:266px; font-family:Verdana, Geneva, Tahoma, sans-serif;">
                            <option>What is your father`s middle name?</option>
                            <option >What is your mother`s maiden name?</option>
                            <option >How many siblings do you have?</option>
                        </select><br>
                        <input id="a1Input"  required size="35" style="margin-top:10px" type="text"> <br><br>
                        <span style="font-family:Verdana, Geneva, Tahoma, sans-serif; color: #A10115;">Security Question 2</span><br>

                        <select id="q2" style="width:266px; font-family:Verdana, Geneva, Tahoma, sans-serif;">
                            <option >What city were you born in?</option>
                            <option >What was the name of your first school?</option>
                            <option >What is your favorite color?</option>
                        </select><br>
                        <input id="a2Input"  required size="35" style="margin-top:10px" type="text"> <br><br>
          
                        <button class="btn" id="submitbutton"
                                style="background-color: #138d75 ;color:white ; border-color:#A10115; margin-left: 35%; "
                                type="submit">Sign Up
                        </button>

                        <p class="alertMessage" id="alertMessage" style="margin-left:14%"></p>
                        <!--                                     <p style="margin-left:9%">Already Have an Account?<a href="#signinModal"> SignIn Here</a></p>
                         -->                              
                        
                        </form>
                </div>

            </div>
        </div>
    </div>

    <div aria-hidden="true" aria-labelledby="signinModalCenterTitle" class="modal fade" id="signinModal" role="dialog"
         tabindex="-1">
        <div class="modal-dialog modal-dialog-centered" role="document" style="width:360px">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="signinModal" style="color:#138d75">Sign In</h5>
                    <button aria-label="Close" class="close" data-dismiss="modal" type="button">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <form action="javascript:signin();">
                        <span style="font-family:Verdana, Geneva, Tahoma, sans-serif; color: #A10115;">Email </span><br>
                        <input id="signinEmailInput" oninput="document.getElementById('alertMessage').innerHTML=''"
                               required size="35" style="margin-top:10px" type="email"> <br><br>

                        <span style="font-family:Verdana, Geneva, Tahoma, sans-serif; color: #A10115;">Password </span><br>
                        <input id="signinPasswordInput" oninput="document.getElementById('alertMessage').innerHTML=''"
                               required size="35" style="margin-top:10px" type="password"> <br><br>

                        <button class="btn" id="signinSubmitButton"
                                style="margin-left:37%; background-color: #138d75 ;color:white ; border-color:#A10115 "
                                type="submit">Sign In
                        </button>

                        <p class="alertMessage" id="signinAlertMessage" style="margin-left:4%"></p>

                        <a href="#forgotpassEmailModal" style="margin-left:30%" onclick="forgotpassEmail()" >Forgot Password?</a><br>

                        <!--                               <a href="signup.html" style="margin-left:15%" >Don't Have an Account?</a>
                         -->                            </form>
                </div>

            </div>
        </div>
    </div>

    <div aria-hidden="true" aria-labelledby="forgotpasswordModalCenterTitle" class="modal fade" id="forgotpasswordModal" role="dialog"
         tabindex="-1">
        <div class="modal-dialog modal-dialog-centered" role="document" style="width:360px">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="forgotpasswordModal" style="color:#138d75">Enter Answers to Security Questions</h5>
                    <button aria-label="Close" class="close" data-dismiss="modal" type="button">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <form action="javascript:checksecurity();">
                        <span style="font-family:Verdana, Geneva, Tahoma, sans-serif; color: #A10115;" id="sq1"></span><br>
                        <input id="s1ansInput" required size="35" style="margin-top:10px" type="text"> <br><br>

                        <span style="font-family:Verdana, Geneva, Tahoma, sans-serif; color: #A10115;" id="sq2"></span><br>
                        <input id="s2ansInput" required size="35" style="margin-top:10px" type="text"> <br><br>

                        <p class="alertMessage" id="forgotpasswordAlert" style="margin-left:4%"></p>

                        <button class="btn" style="margin-left:37%; background-color: #138d75 ;color:white ; border-color:#A10115 " type="submit">Submit
                        </button>
                        </form>
                </div>
            
                

            </div>
        </div>
    </div>

    <div aria-hidden="true" aria-labelledby="forgotpassEmailModalCenterTitle" class="modal fade" id="forgotpassEmailModal" role="dialog"
    tabindex="-1">
   <div class="modal-dialog modal-dialog-centered" role="document" style="width:360px">
       <div class="modal-content">
           <div class="modal-header">
               <h5 class="modal-title" id="forgotpassEmailModal" style="color:#138d75">Please Enter Your Email</h5>
               <button aria-label="Close" class="close" data-dismiss="modal" type="button">
                   <span aria-hidden="true">&times;</span>
               </button>
           </div>
           <div class="modal-body">
               <form action="javascript:checksecurityemail()">
                   <span style="font-family:Verdana, Geneva, Tahoma, sans-serif; color: #A10115;" id="sqEmail" >Email:</span><br>
                   <input id="sqEmailInput" required size="35" style="margin-top:10px" type="text" oninput="document.getElementById('forgotpassEmailAlert').innerHTML=''"> <br><br>

                   <p class="alertMessage" id="forgotpassEmailAlert" style="margin-left:4%"></p>

                   <button class="btn" style="margin-left:37%; background-color: #138d75 ;color:white ; border-color:#A10115 " type="submit">Submit
                   </button>
                   </form>
           </div>
       
           

       </div>
   </div>
</div>
    <div aria-hidden="true" aria-labelledby="resetpasswordModalCenterTitle" class="modal fade" id="resetpasswordModal" role="dialog"
    tabindex="-1">
   <div class="modal-dialog modal-dialog-centered" role="document" style="width:360px">
       <div class="modal-content">
           <div class="modal-header">
               <h5 class="modal-title" id="resetpasswordModal" style="color:#138d75">Enter Answers to Security Questions</h5>
               <button aria-label="Close" class="close" data-dismiss="modal" type="button">
                   <span aria-hidden="true">&times;</span>
               </button>
           </div>
    <div class="modal-body">
        <form action="javascript:resetpassword();">
            <div><span
                style="font-family:Verdana, Geneva, Tahoma, sans-serif; color: #A10115;">Password </span><br>
            <input id="resetpasswordInput"
                   onblur="document.getElementById('resetpassword_constraints').style.setProperty('display', 'none')"
                   onfocus="document.getElementById('resetpassword_constraints').style.setProperty('display', 'block')"
                   oninput="checkPassword('reset')" required size="35" style="margin-top:10px" type="password"><br><br>
        </div>

        <div id="resetpassword_constraints"
             style="margin-left:50px; border-radius: 10px; border: solid 2px; border-color: #138d75; background-color: white; padding:10px; position: absolute; width: 335px; display:none">

            <p>Strength:
                <progress id="resetsecurity-value" max="6" value="0"></progress>
                <span id="resetsecurity-message"></span> <br>
                <span style="font-family:Verdana, Geneva, Tahoma, sans-serif; color: #138d75; font-size: small;">Must Be Atleast 8 Characters<span
                        id="resetlengthConstraint"
                        style="font-family:Verdana, Geneva, Tahoma, sans-serif; color: #138d75; font-size: small;"></span></span><br>
                <span style="font-family:Verdana, Geneva, Tahoma, sans-serif; color: #138d75; font-size: small;">Must Contain 1 Uppercase Letter <span
                        id="resetuppercaseConstraint"
                        style="font-family:Verdana, Geneva, Tahoma, sans-serif; color: #138d75; font-size: small;"></span></span>
                <br>
                <span style="font-family:Verdana, Geneva, Tahoma, sans-serif; color: #138d75; font-size: small;">Must Contain 1 Lowercase Letter <span
                        id="resetlowercaseConstraint"
                        style="font-family:Verdana, Geneva, Tahoma, sans-serif; color: #138d75; font-size: small;"></span></span><br>
                <span style="font-family:Verdana, Geneva, Tahoma, sans-serif; color: #138d75; font-size: small;">Must Contain 1 Number <span
                        id="resetnumberConstraint"
                        style="font-family:Verdana, Geneva, Tahoma, sans-serif; color: #138d75; font-size: small;"></span></span><br>
                <span style="font-family:Verdana, Geneva, Tahoma, sans-serif; color: #138d75; font-size: small;">Must Only Use A-z, 0-9, @, -, _, and .  <span
                        id="resetcharacterConstraint"
                        style="font-family:Verdana, Geneva, Tahoma, sans-serif; color: #138d75; font-size: small;"></span></span><br>
                <span style="font-family:Verdana, Geneva, Tahoma, sans-serif; color: #138d75; font-size: small;">Must Not Be Same As Email<span
                        id="resetemailConstraint"
                        style="font-family:Verdana, Geneva, Tahoma, sans-serif; color: #138d75; font-size: small;"></span></span><br>
            </p>
        </div>

        <span style="font-family:Verdana, Geneva, Tahoma, sans-serif; color: #A10115;">Confirm Password </span><br>
        <input id="resetconfirmPasswordInput" oninput="confirmPassword('reset')" required size="35"
               style="margin-top:10px" type="password"> <br><br>
        <p id="resetmatchPassword"></p>
        <p id="resetAlert" style="text-align : center; color : #138d75"></p>

            <button class="btn" style="margin-left:37%; background-color: #138d75 ;color:white ; border-color:#A10115 " type="submit">Submit
            </button>
            </form>
    </div>
</div>
</div>
</div>
    <div aria-hidden="true" aria-labelledby="initialsurveyModalCenterTitle" class="modal fade" id="initialsurveyModal"
         role="dialog" tabindex="-1">
        <div class="modal-dialog modal-dialog-centered modal-dialog-scrollable" role="document" style="width:1000px">
            <div class="modal-content" style="width: 1000px; height: 900px;">

                <div class="modal-header">
                    <h5 class="modal-title" id="initialsurveyModalId" style="color:#138d75">Nutrition Survey</h5>
                    <button aria-label="Close" class="close" data-dismiss="modal" type="button">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <form action="#home">
                        <div class="row" style="margin-top: 20px;">
                            <div class="col-md-2 form-group"></div>
                            <div class="col-md-4 form-group">
                                <center><label for="carbohydratesRange">Carbohydrates(g)</label> <img
                                        src="images/carbohydrates.png" style="width: 25px"></img></center>

                            </div>

                            <div class="col-md-4 form-group" >
                                <input class="slider" id="carbohydratesRange" max="100" min="0" type="range" value="0" oninput="this.form.carbohydratesAmount.value=this.value">
                                <input id="carbohydratesAmount" max="100" min="0" oninput="this.form.carbohydratesRange.value=this.value" placeholder="0-100" type="number"
                                       value="0" style="width: 5em">
                                <span class="validity"></span>

                            </div>
                            <div class="col-md-2 form-group"></div>
                        </div>
                        <div class="row">
                            <div class="col-md-2 form-group"></div>
                            <div class="col-md-4 form-group">
                                <center><label for="proteinRange">Protein(g)</label> <img src="images/protein.png"
                                                                                       style="width: 25px"></img>
                                </center>
                            </div>
                            <div class="col-md-4 form-group">
                                <input class="slider" id="proteinRange" max="100" min="0" type="range" value="0" oninput="this.form.proteinAmount.value=this.value">
                                <input type="number" id="proteinAmount" max="100" min="0" value="0" placeholder="0-100" oninput="this.form.proteinRange.value=this.value" style="width: 5em">
                            </div>
                            <div class="col-md-2 form-group"></div>
                        </div>
                        <div class="row">
                            <div class="col-md-2 form-group"></div>
                            <div class="col-md-4 form-group">
                                <center><label for="fatRange">Fat (g)</label> <img src="images/fat.png"
                                                                               style="width: 25px"></img></center>
                            </div>
                            <div class="col-md-4 form-group">
                                <input class="slider" id="fatRange" max="2000" min="0" type="range" value="0" oninput="this.form.fatAmount.value=this.value">
                                <input type="number" id="fatAmount" max="2000" min="0" value="0" placeholder="0-2000" oninput="this.form.fatRange.value=this.value" style="width: 5em">
                            </div>
                            <div class="col-md-2 form-group"></div>
                        </div>
                        <div class="row">
                            <div class="col-md-2 form-group"></div>
                            <div class="col-md-4 form-group">
                                <center><label for="caloriesRange">Calories (kcal)</label> <img src="images/calories.png"
                                                                                         style="width: 25px"></img>
                                </center>
                            </div>
                            <div class="col-md-4 form-group">
                                <input class="slider" id="caloriesRange" max="1000" min="0" type="range" value="0" oninput="this.form.caloriesAmount.value=this.value">
                                <input type="number" id="caloriesAmount" max="1000" min="0" value="0" placeholder="0-1000" oninput="this.form.caloriesRange.value=this.value" style="width: 5em">
                            </div>
                            <div class="col-md-2 form-group"></div>
                        </div>
                        <div class="row">
                            <div class="col-md-2 form-group"></div>
                            <div class="col-md-4 form-group">
                                <center><label for="sugarRange">Sugar (g)</label> <img src="images/sugar.png"
                                                                                   style="width: 25px"></img></center>
                            </div>
                            <div class="col-md-4 form-group">
                                <input class="slider" id="sugarRange" max="100" min="0" type="range" value="0" oninput="this.form.sugarAmount.value=this.value">
                                <input type="number" id="sugarAmount" max="100" min="0" value="0" placeholder="0-100" oninput="this.form.sugarRange.value=this.value" style="width: 5em">
                            </div>
                            <div class="col-md-2 form-group"></div>
                        </div>
                        <div class="row">
                            <div class="col-md-2 form-group"></div>
                            <div class="col-md-4 form-group">
                                <center><label for="starchRange">Starch (g)</label> <img src="images/starch.jpg"
                                                                                     style="width: 25px"></img></center>
                            </div>
                            <div class="col-md-4 form-group">
                                <input class="slider" id="starchRange" max="100" min="0" type="range" value="0" oninput="this.form.starchAmount.value=this.value">
                                <input type="number" id="starchAmount" max="100" min="0" value="0" placeholder="0-100" oninput="this.form.starchRange.value=this.value" style="width: 5em">
                            </div>
                            <div class="col-md-2 form-group"></div>
                        </div>
                        <div class="row">
                            <div class="col-md-2 form-group"></div>
                            <div class="col-md-4 form-group">
                                <center><label for="glucoseRange">Glucose (g)</label> <img src="images/glucose.png"
                                                                                       style="width: 25px"></img>
                                </center>
                            </div>
                            <div class="col-md-4 form-group">
                                <input class="slider" id="glucoseRange" max="100" min="0" type="range" value="0" oninput="this.form.glucoseAmount.value=this.value">
                                <input type="number" id="glucoseAmount" max="100" min="0" value="0" placeholder="0-100" oninput="this.form.glucoseRange.value=this.value" style="width: 5em">
                            </div>
                            <div class="col-md-2 form-group"></div>
                        </div>
                        <div class="row">
                            <div class="col-md-2 form-group"></div>
                            <div class="col-md-4 form-group">
                                <center><label for="ironRange">Iron (mg)</label> <img src="images/iron.jpg"
                                                                                 style="width: 25px"></img></center>
                            </div>
                            <div class="col-md-4 form-group">
                                <input class="slider" id="ironRange" max="100" min="0" type="range" value="0" oninput="this.form.ironAmount.value=this.value">
                                <input type="number" id="ironAmount" max="100" min="0" value="0" placeholder="0-100" oninput="this.form.ironRange.value=this.value" style="width: 5em">
                            </div>
                            <div class="col-md-2 form-group"></div>
                        </div>
                        <div class="row">
                            <div class="col-md-2 form-group"></div>
                            <div class="col-md-4 form-group">
                                <center><label for="calciumRange">Calcium (mg)</label> <img src="images/calcium.jpeg"
                                                                                       style="width: 25px"></img>
                                </center>
                            </div>
                            <div class="col-md-4 form-group">
                                <input class="slider" id="calciumRange" max="2200" min="0" type="range" value="0" oninput="this.form.calciumAmount.value=this.value">
                                <input type="number" id="calciumAmount" max="2200" min="0" value="0" placeholder="0-2200" oninput="this.form.calciumRange.value=this.value" style="width: 5em">
                            </div>
                            <div class="col-md-2 form-group"></div>
                        </div>
                        <div class="row">
                            <div class="col-md-2 form-group"></div>
                            <div class="col-md-4 form-group">
                                <center><label for="waterRange">Water (g)</label> <img src="images/water.jpg"
                                                                                   style="width: 25px"></img></center>
                            </div>
                            <div class="col-md-4 form-group">
                                <input class="slider" id="waterRange" max="100" min="0" type="range" value="0" oninput="this.form.waterAmount.value=this.value">
                                <input type="number" id="waterAmount" max="100" min="0" value="0" placeholder="0-100" oninput="this.form.waterRange.value=this.value" style="width: 5em">
                            </div>
                            <div class="col-md-2 form-group"></div>
                        </div>
                        <div class="row">
                            <div class="col-md-4 form-group"></div>
                            <div class="col-md-2 form-group">

                                <button class="btn" data-dismiss="modal" id="submitbutton"
                                        style="background-color: #138d75  ;color:white ; border-color:#A10115"
                                        type="submit" onclick="savepreferences()" >Confirm
                                </button>

                            </div>
                            <div class="col-md-2 form-group ">

                                <button class="btn" onclick="Clear()"
                                        style="background-color:#138d75  ; color: white ;border-color:#A10115"
                                        type="reset">Cancel
                                </button>

                            </div>
                        </div>

                        <!--                               <a href="signup.html" style="margin-left:15%" >Don't Have an Account?</a>
                         -->                            </form>
                </div>

            </div>
        </div>
    </div>


</div>
<!-- Footer -->
<footer class="page-footer font-small special-color-dark pt-4">

    <!-- Footer Elements -->
    <div class="container">

        <!-- Social buttons -->
        <ul class="list-unstyled list-inline text-center">
            <li class="list-inline-item">
                <a class="btn-floating btn-fb mx-1">
                    <i class="fab fa-facebook-f"> </i>
                </a>
            </li>
            <li class="list-inline-item">
                <a class="btn-floating btn-tw mx-1">
                    <i class="fab fa-twitter"> </i>
                </a>
            </li>
            <li class="list-inline-item">
                <a class="btn-floating btn-gplus mx-1">
                    <i class="fab fa-google-plus-g"> </i>
                </a>
            </li>
            <li class="list-inline-item">
                <a class="btn-floating btn-li mx-1">
                    <i class="fab fa-linkedin-in"> </i>
                </a>
            </li>
            <li class="list-inline-item">
                <a class="btn-floating btn-dribbble mx-1">
                    <i class="fab fa-dribbble"> </i>
                </a>
            </li>
        </ul>
        <!-- Social buttons -->
    </div>
    <!-- Footer Elements -->

    <!-- Copyright -->
    <div class="footer-copyright text-center py-3">Â© 2019 Copyright:
        <a href="https://nutri-aid.000webhostapp.com"> NutriAid</a>
    </div>
    <!-- Copyright -->

</footer>
<!-- Footer -->

<script>
    function checkPassword(reset = "") {
        var password =  document.getElementById(reset + "passwordInput").value;
        var email = document.getElementById('emailInput').value;
        var secure = 0;
        if (password.length >= 8) {
            document.getElementById(reset + 'lengthConstraint').innerHTML = ' &#10004';
            secure++;
        } else {
            document.getElementById(reset + 'lengthConstraint').innerHTML = '';
        }
        if (password != email) {
            document.getElementById(reset + 'emailConstraint').innerHTML = ' &#10004';
            secure++;
        } else {
            document.getElementById(reset + 'emailConstraint').innerHTML = '';
        }

        if (password.match(/[0-9]/)) {
            document.getElementById(reset + 'numberConstraint').innerHTML = ' &#10004';
            secure++;
        } else {
            document.getElementById(reset + 'numberConstraint').innerHTML = '';
        }
        if (password.match(/^[A-Za-z0-9@_.-]+$/)) {
            document.getElementById(reset + 'characterConstraint').innerHTML = ' &#10004';
            secure++;
        } else {
            document.getElementById(reset + 'characterConstraint').innerHTML = '';
        }
        if (password.match(/[A-Z]/)) {
            document.getElementById(reset + 'uppercaseConstraint').innerHTML = ' &#10004';
            secure++;

        } else {
            document.getElementById(reset + 'uppercaseConstraint').innerHTML = '';
        }
        if (password.match(/[a-z]/)) {
            document.getElementById(reset + 'lowercaseConstraint').innerHTML = ' &#10004';
            secure++;

        } else {
            document.getElementById(reset + 'lowercaseConstraint').innerHTML = '';
        }

        if (password.length == 0) {
            document.getElementById(reset + 'security-message').innerHTML = '';
            secure = 0;
        } else if (secure <= 3) {
            document.getElementById(reset + 'security-message').innerHTML = 'Weak';
            document.getElementById(reset + 'security-message').style.color = "red";

        } else {
            document.getElementById(reset + 'security-message').innerHTML = 'Strong';
            document.getElementById(reset + 'security-message').style.color = 'green';

        }
        document.getElementById(reset + 'security-value').value = secure;


    }

    function confirmPassword(reset = "") {
        var password = document.getElementById(reset + 'passwordInput').value;
        var confirmPassword = document.getElementById(reset + 'confirmPasswordInput').value;
        if (password != confirmPassword) {
            document.getElementById(reset + "matchPassword").innerHTML = "Passwords Do Not Match";
            document.getElementById(reset + "matchPassword").style.color = "red";
            document.getElementById(reset + "matchPassword").style.marginLeft = "20%";

        } else {
            document.getElementById(reset + "matchPassword").innerHTML = "Passwords Match";
            document.getElementById(reset + "matchPassword").style.color = "green";
            document.getElementById(reset + "matchPassword").style.marginLeft = "29%";
        }
    }

    function signup() {
        console.log('attempting signup');
        console.log(nodeURL + "signup");
        var q1 = document.getElementById('q1');
        var q2 = document.getElementById('q2');
        const data = {
            'name': document.getElementById('nameInput').value,
            'email': document.getElementById('emailInput').value,
            'password': document.getElementById('passwordInput').value,
            'question1' :q1.options[q1.selectedIndex].text,
            'answer1':document.getElementById('a1Input').value,
            'question2' :q2.options[q2.selectedIndex].text,
            'answer2':document.getElementById('a2Input').value
        }
        $.ajax({
            url: nodeURL + "signup",
            type: 'POST',
            contentType: 'application/json',
            data: JSON.stringify(data),
            success: function (res) {
                const response = JSON.parse(res);
                console.log(response);
                if (response.authenticated == 'true') {
                    sessionStorage.setItem('user', data.email);
                    window.location = "index.html";
                } else if (response.authenticated == 'emailError') {
                    document.getElementById('alertMessage').innerHTML = "Account With Email Already Exists.";
                }
            }
        })
    }

    function signin() {
        const data = {
            'email': document.getElementById('signinEmailInput').value,
            'password': document.getElementById('signinPasswordInput').value
        }
        console.log(nodeURL + "signin");
        $.ajax({
            url: nodeURL + "signin",
            type: 'POST',
            contentType: 'application/json',
            data: JSON.stringify(data),
            success: function (res) {
                const response = JSON.parse(res);

                if (response.authenticated) {
                    sessionStorage.setItem('user', data.email);

                    //window.location = "index.html";
                    $("#nav-dashboard-tab").show();
                    $("#nav-signout-tab").show();
                    $("#nav-signin-tab").hide();


                    $("#nav-signup-tab").hide();
                    $("#nav-initialsurvey-tab").show();

                   // var preferences = checkPreferences(data.email);
                    //console.log(preferences);
                    var data1 = {'email': data.email};
                    $.ajax({
                        url: nodeURL + "getpreferences",
                        type: 'POST',
                        contentType: 'application/json',
                        data: JSON.stringify(data1),
                        success: function (res) {
                            const response = JSON.parse(res);
                            retrieveFavorites();

                        }
                    }).done(function(res){
                        $("#signinModal").modal('hide');
                        console.log('response length='+res);
                         res = JSON.parse(res);

                         if(res.length == 0) {

                           $("#initialsurveyModal").modal('show');
                             $.ajax({
                                 url: url1,
                                 type: 'get',
                                 dataType: 'json',
                                 success: function (data) {
                                    recommendations = data;
                                     //console.log("default recommendations");
                                     //console.log(data);
                                     displayRecommendations(data);
                                    // google.charts.load("current", {packages:["corechart", "bar"]});
                                     //google.charts.setOnLoadCallback(drawChart);
                                     loadStatistics();
                                 }
                             });
                         } else {
                             var nutrition_data = [];
                             $(res).each(function(i, v){
                                 //TODO: Need to find the logic to verify the order of values. As of now, it's in order.
                                 console.log(v.nutrition_name);
                                 nutrition_data.push(parseInt(v.nutrition_value));

                             });
                             console.log(nutrition_data);

                             $.ajax({
                                 url: pythonURL,
                                 type: 'POST',
                                 contentType: 'application/json',
                                 data: JSON.stringify({nutrition: nutrition_data}),
                                 success: function(res) {
                                     console.log(res);
                                 }

                             }).done(function(res){
                                 recommendations = JSON.parse(res);
                                 console.log("done" + res);
                                 $('#dashboard_recommend').empty();
                                 displayRecommendations(JSON.parse(res));

                             });
                         }


                    });





                   // var input = generateInputData(preferences);
                   /* $.ajax({
                        url: url1,
                        type: 'get',
                        dataType: 'json',
                        success: function (data) {
                            displayRecommendations(data);

                        }
                    });*/

                } else {
                    document.getElementById('signinAlertMessage').innerHTML = "Incorrect Email or Password. Please Try Again.";
                }


            }
        });


    }

    function checkPreferences(email) {
        var data1 = {'email': email};
        out=[];
        console.log(email);
        $.ajax({
            url: nodeURL + "getpreferences",
            type: 'POST',
            contentType: 'application/json',
            data: JSON.stringify(data1),
            success: function (res) {
                const response = JSON.parse(res);
                console.log("success");
                console.log(response.length);
                out = res;

            }
        });


    }

    function search() {
        //console.log('search');
          $('#searchResults tbody').empty();
        const data = {
            'search': document.getElementById('searchInput').value,
        }

        $.ajax({

          url: nodeURL + "search",
          type: 'POST',
          contentType: 'application/json',
          data: JSON.stringify(data),
          success: function(res){
           const response = JSON.parse(res);
           console.log(response);

           $(document).ready(function(){
               if ( $.fn.dataTable.isDataTable( '#searchResults' ) ) {
                   $('#searchResults').DataTable().destroy();
               }


               $("#searchResults").DataTable({
                   data: response,

                   "columns": [
                       { "data": "Food Name" },
                       { "data": "Protein" },
                       { "data": "Fat" },
                       { "data": "Carbohydrate" },
                       { "data": "Total Sugars" }


                   ]


               });



               if (sessionStorage.getItem('user')) {
                  // console.log(favorites);
                   $("#searchResults").DataTable().rows().every( function ( rowIdx, tableLoop, rowLoop ) {

                       var data = this.data();
                    
                       var fname = data["Food Name"];
                       
                      
                      // data['Food Name'] +=  '<span class="fa fa-star"  id="favIcon-' +rowIdx  + '"></span>';
                      // $str = $('<span>').attr("id","favIcon-" + rowIdx).click( ()=> { favoriteFood('search',data,rowIdx)}).addClass("fa fa-star");

                      // content = $(str).clone().wrap('<p/>').parent().html();

                          // .click( ()=> { favoriteFood('search',val,fname)}).addClass("fa fa-star"));
                       /*setTimeout(function(){   
                       $(favorites).each(function(i, v){
                           if (v['Food Name'] == fname) {
                               $("#favIcon-"+rowIdx).addClass('checked');
                           }
                       });
                       $(favoritesAdded).each(function(i, v){
                           if (v['Food Name'] == fname) {
                               $("#favIcon-"+rowIdx).addClass('checked');
                           }
                       });},2000);*/

                       var isfavorite =  $(favorites).each(function(i, v){
                           if (v['Food Name'] == fname) {
                               console.log(data['Food Name']);
                              //data['Food Name'] = data['Food Name'] + ' ___test';
                              data['Food Name'] +=  '<span class="fa fa-star checked"   id="favIcon-' +rowIdx  + '"></span>';

                               return true;
                           }
                       });
                       
                       var isfavorite2 =  $(favoritesAdded).each(function(i, v){
                           if (v['Food Name'] == fname) {
                               console.log(data['Food Name']);
                              //data['Food Name'] = data['Food Name'] + ' ___test';
                              data['Food Name'] +=  '<span class="fa fa-star checked"   id="favIcon-' +rowIdx  + '"></span>';

                                return true;
                           }
                       });
                      
                      if (!isfavorite && !isfavorite2)
                          data['Food Name'] +=  '<span class="fa fa-star"  id="favIcon-' +rowIdx  + '"></span>';
                  //    else
                   //      data['Food Name'] +=  '<span class="fa fa-star checked"   id="favIcon-' +rowIdx  + '"></span>';

                       this.data(data);
                   } );
                  // starFavorite(data["Food Name"],fname,'search');

               }
               $("span[id^=favIcon").click(function(){
                   //console.log('clicked',$(this).attr('id'));
                   var foodindex = ($(this).attr('id')).split('-')[1];
                   //console.log($("#searchResults").DataTable().rows(foodindex).data()[0]);
                   var data =$("#searchResults").DataTable().rows(foodindex).data()[0];
                   data["Food Name"] = data["Food Name"].split("<span")[0];
                   favoriteFood('search',data,foodindex);
               });
            /*

            .append($('<span>').attr("id","favIcon-" + fname).click( ()=> { favoriteFood(index,val,fname)}).addClass("fa fa-star"))
             */

          })
        }})
      }

          document.getElementById("submitbutton").onclick= function() {
              var carbohydrates = document.getElementById("carbohydratesRange").value;
              var protein = document.getElementById("proteinRange").value;
              var glucose = document.getElementById("glucoseRange").value;
              var fat = document.getElementById("fatRange").value;
              var starch = document.getElementById("starchRange").value;
              var calories = document.getElementById("caloriesRange").value;
              var calcium = document.getElementById("calciumRange").value;
              var iron = document.getElementById("ironRange").value;
              var sugar = document.getElementById("sugarRange").value;
              var water = document.getElementById("waterRange").value;
              console.log(carbohydrates,water,protein,fat,calcium,starch,calories,iron,sugar,glucose);

          }

        function Clear(){
            document.getElementsByClassName("slider").value=0;
        }


        var input = document.getElementById("searchInput");

        // Execute a function when the user releases a key on the keyboard
        input.addEventListener("keyup", function(event) {
            // Number 13 is the "Enter" key on the keyboard
            if (event.keyCode === 13) {
                // Cancel the default action, if needed
                event.preventDefault();
                // Trigger the button element with a click
                document.getElementById("searchInputbutton").click();
            }
        });

        </script>
</body>

</html>